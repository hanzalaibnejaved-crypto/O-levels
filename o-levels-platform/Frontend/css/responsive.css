/* === MOBILE FIRST RESPONSIVE DESIGN === */

/* Small devices (landscape phones, 576px and up) */
@media (min-width: 576px) {
    .subjects-grid {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }
    
    .resource-grid {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }
}

/* Medium devices (tablets, 768px and up) */
@media (min-width: 768px) {
    .sidebar {
        position: static;
        height: auto;
    }
    
    .grid-2 {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Large devices (desktops, 992px and up) */
@media (min-width: 992px) {
    .subjects-grid {
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    }
    
    .content-views {
        padding: 2rem 3rem;
    }
}

/* Extra large devices (large desktops, 1200px and up) */
@media (min-width: 1200px) {
    .app-container {
        max-width: 1400px;
        margin: 0 auto;
        box-shadow: var(--shadow-xl);
    }
}

/* === MOBILE RESPONSIVE STYLES === */
@media (max-width: 767px) {
    /* Layout adjustments */
    .app-layout {
        flex-direction: column;
    }
    
    .sidebar {
        position: fixed;
        left: -100%;
        top: 0;
        height: 100vh;
        width: 100%;
        z-index: 1000;
        transition: var(--transition);
    }
    
    .sidebar.active {
        left: 0;
    }
    
    .main-content {
        width: 100%;
    }
    
    .main-header {
        padding: 0 1rem;
    }
    
    .header-right {
        gap: 0.5rem;
    }
    
    .search-box input {
        width: 200px;
    }
    
    .content-views {
        padding: 1rem;
    }
    
    /* Grid adjustments */
    .subjects-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .resource-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .grid-2 {
        grid-template-columns: 1fr;
    }
    
    .quick-stats {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
    }
    
    .progress-stats {
        grid-template-columns: 1fr;
    }
    
    /* Test maker steps */
    .test-maker-steps {
        flex-direction: column;
        gap: 1rem;
    }
    
    .test-maker-steps::before {
        display: none;
    }
    
    .test-step {
        flex-direction: row;
        gap: 1rem;
    }
    
    .step-circle {
        margin-bottom: 0;
    }
    
    /* Resources tabs */
    .resources-tabs {
        flex-direction: column;
    }
    
    .tab-btn {
        justify-content: flex-start;
    }
    
    /* Modal adjustments */
    .modal-content {
        margin: 1rem;
        width: calc(100% - 2rem);
    }
    
    /* Typography adjustments */
    h1 {
        font-size: 2rem;
    }
    
    h2 {
        font-size: 1.75rem;
    }
    
    .welcome-title {
        font-size: 1.5rem;
    }
    
    .subject-title-large {
        font-size: 2rem;
    }
    
    /* Button adjustments */
    .btn {
        padding: 0.875rem 1.25rem;
    }
    
    /* Form adjustments */
    .option-grid {
        grid-template-columns: 1fr;
    }
    
    .form-actions {
        flex-direction: column;
        gap: 1rem;
    }
    
    .form-actions .btn {
        width: 100%;
    }
    
    /* Hide less important elements on mobile */
    .breadcrumb {
        display: none;
    }
    
    .user-info {
        display: none;
    }
}

/* === TABLET SPECIFIC STYLES === */
@media (min-width: 768px) and (max-width: 1023px) {
    .sidebar {
        width: 80px;
    }
    
    .sidebar .logo-text,
    .sidebar .nav-label,
    .sidebar .nav-item span,
    .sidebar .user-info {
        display: none;
    }
    
    .sidebar .nav-item {
        justify-content: center;
        padding: 0.75rem;
    }
    
    .sidebar .nav-item i {
        margin: 0;
        font-size: 1.25rem;
    }
    
    .main-content {
        margin-left: 80px;
    }
    
    .subjects-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .resource-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* === DARK MODE PREFERENCE === */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme]) {
        --bg-primary: var(--gray-900);
        --bg-secondary: var(--gray-800);
        --bg-tertiary: var(--gray-700);
        --text-primary: var(--white);
        --text-secondary: var(--gray-300);
        --text-muted: var(--gray-400);
        --border-color: var(--gray-700);
    }
}

/* === REDUCED MOTION SUPPORT === */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* === TOUCH DEVICE OPTIMIZATIONS === */
@media (hover: none) and (pointer: coarse) {
    .btn:hover,
    .nav-item:hover,
    .subject-card:hover,
    .resource-card:hover,
    .quick-stat:hover,
    .activity-item:hover,
    .stat-card:hover,
    .option-card:hover .option-label {
        transform: none;
    }
    
    .sidebar-toggle:hover,
    .logout-btn:hover,
    .header-btn:hover {
        background: transparent;
    }
}

/* === HIGH DPI SCREENS === */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .logo i,
    .nav-item i,
    .header-btn i {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}

/* === PRINT STYLES === */
@media print {
    .sidebar,
    .main-header,
    .btn,
    .modal {
        display: none !important;
    }
    
    .main-content {
        margin-left: 0;
    }
    
    .content-views {
        padding: 0;
    }
    
    .card {
        border: 1px solid #000;
        box-shadow: none;
    }
}